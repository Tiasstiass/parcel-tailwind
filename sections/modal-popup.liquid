<div id="modal-section--{{ section.id }}" class="section-container">
  <div class="page-width text-center">
    {%- if section.settings.title != blank -%}
    <div class="heading page-width-half">
      {{ section.settings.title }} 
    </div>
    {%- endif -%}

    {%- assign modalId = section.id -%} 
    <div class="button cta modal-trigger" data-modal-id="{{ modalId }}">{{ section.settings.button_text }}</div>
    {%- render 'modal-popup', id: modalId, content: section.settings.content -%}
  </div>
</div>

{% schema %}
{
  "name": "Modal popup",
  "class": "shopify-section section-modal",
  "settings": [
    {
      "type": "textarea",
      "id": "title",
      "label": "Section Title"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Popup expand button text",
      "default": "Show popup"
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "Modal popup content"
    }
  ],
  "presets": [
    {
      "name": "Modal popup",
      "category": "Content"
    }
  ]
}
{% endschema %}
