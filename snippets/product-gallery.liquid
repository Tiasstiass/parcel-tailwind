{%- comment -%}
  Inputs:
    product - object
{%- endcomment -%}

<div class="product-details__gallery">
  <div class="gallery__image-wrapper image-responsive__container image-square">
    {%- assign image = product.media[0] -%}
    <picture class="lozad image-responsive__image">
      <source 
        srcset="{{ image | image_url: width: 1020 }}" 
        width="{{ image.width }}"
        height="{{ image.height }}"
        media="(min-width: 1920px)" 
      />
      <source 
        srcset="{{ image | image_url: width: 560 }}" 
        width="{{ image.width }}"
        height="{{ image.height }}"
        media="(min-width: 768px)" 
      />
      <img 
        srcset="{{ image | image_url: width: 380 }}" 
        width="{{ image.width }}"
        height="{{ image.height }}"
        loading="lazy"
      />
    </picture>
  </div>
</div>